document.addEventListener("DOMContentLoaded",(()=>{function e(e){e.preventDefault();const t=e.target,o=t.querySelector(".obx-contact__form-submit"),n=t.querySelector(".obx-contact__message--success"),r=t.querySelector(".obx-contact__message--error");n&&(n.style.display="none"),r&&(r.style.display="none"),o&&(o.disabled=!0);const s=new FormData(t);s.append("action","obx_contact_form"),fetch(obxContact.ajaxUrl,{method:"POST",body:s,credentials:"same-origin"}).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>{e.success?(n&&(n.textContent=e.message,n.style.display="block"),t.reset()):r&&(r.textContent=e.message,r.style.display="block")})).catch((e=>{r&&(r.textContent="An unexpected error occurred. Please try again.",r.style.display="block"),console.error("Error:",e)})).finally((()=>{o&&(o.disabled=!1)}))}document.querySelectorAll(".obx-contact__form").forEach((t=>{t.addEventListener("submit",e)}))}));